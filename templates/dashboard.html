{% extends "base.html" %}

{% block title %}Mi intercambio{% endblock %}

{% block content %}
<div class="card">
  <h2>üéÅ Hola {{ user.name }} ‚Äî Tu intercambio</h2>

  {% if receiver %}
    <p>Te toc√≥ darle regalo a:</p>
    <h3>{{ receiver.name }}</h3>

    {% if receiver_wishes %}
      <h4>Sus deseos üéÑ</h4>

      {% if receiver_wishes.wish1 %}
        <div class="wish-option">
          <div class="wish-text">
            <strong>Opci√≥n 1:</strong> {{ receiver_wishes.wish1 }}
            {% if receiver_wishes.wish1_img %}
              <div style="font-size:0.8rem; opacity:0.8; margin-top:4px;">
                (Haz clic en la imagen para verla completa en grande)
              </div>
            {% endif %}
          </div>

          {% if receiver_wishes.wish1_img %}
            <img class="wish-img"
                 src="{{ url_for('static', filename='uploads/' ~ receiver_wishes.wish1_img) }}"
                 alt="Opci√≥n 1 de {{ receiver.name }}"
                 onclick="openImgModal(this.src)">
          {% endif %}
        </div>
      {% endif %}

      {% if receiver_wishes.wish2 %}
        <div class="wish-option">
          <div class="wish-text">
            <strong>Opci√≥n 2:</strong> {{ receiver_wishes.wish2 }}
            {% if receiver_wishes.wish2_img %}
              <div style="font-size:0.8rem; opacity:0.8; margin-top:4px;">
                (Haz clic en la imagen para verla completa en grande)
              </div>
            {% endif %}
          </div>

          {% if receiver_wishes.wish2_img %}
            <img class="wish-img"
                 src="{{ url_for('static', filename='uploads/' ~ receiver_wishes.wish2_img) }}"
                 alt="Opci√≥n 2 de {{ receiver.name }}"
                 onclick="openImgModal(this.src)">
          {% endif %}
        </div>
      {% endif %}

      {% if not receiver_wishes.wish1 and not receiver_wishes.wish2 %}
        <p>A√∫n no ha agregado opciones de regalo.</p>
      {% endif %}
    {% else %}
      <p><em>{{ receiver.name }}</em> a√∫n no agrega su lista de deseos.</p>
    {% endif %}
  {% else %}
    <p>No tienes asignaci√≥n registrada.</p>
  {% endif %}
</div>
{% endblock %}
